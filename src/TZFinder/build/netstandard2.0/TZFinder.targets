<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <TimeZoneData Condition="'$(TimeZoneData)' == ''">Medium</TimeZoneData>
    <_TimeZoneDataFile Condition="'$(TimeZoneData)' == 'Small'">20_5000_NoEtc_TimeZoneData.bin</_TimeZoneDataFile>
    <_TimeZoneDataFile Condition="'$(TimeZoneData)' == 'Medium'">25_600_NoEtc_TimeZoneData.bin</_TimeZoneDataFile>
    <_TimeZoneDataFile Condition="'$(TimeZoneData)' == 'Large'">30_152_NoEtc_TimeZoneData.bin</_TimeZoneDataFile>
  </PropertyGroup>

  <ItemGroup Condition="'$(_TimeZoneDataFile)' != ''">
    <Content Include="$(MSBuildThisFileDirectory)..\..\data\$(_TimeZoneDataFile)"
             Link="TimeZoneData.bin"
             CopyToOutputDirectory="IfDifferent"
             Visible="false" />
  </ItemGroup>

  <PropertyGroup>
    <BuildDependsOn>
      CheckTimeZoneData;
      $(BuildDependsOn)
    </BuildDependsOn>
  </PropertyGroup>

  <Target Name="CheckTimeZoneData">
    <Error Text="Unknown TimeZoneData '$(TimeZoneData)'"
             Condition="'$(TimeZoneData)' != 'Small' and '$(TimeZoneData)' != 'Medium' and '$(TimeZoneData)' != 'Large' and '$(TimeZoneData)' != 'None'" />
  </Target>

</Project>